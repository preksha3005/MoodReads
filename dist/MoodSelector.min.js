import{getStandardMoods as t,getAllMoods as e}from"./moodData.min.js";export class MoodSelector{constructor(t,e){this.container=t,this.onMoodChange=e,this.activeMoodId=null,this.easterEggUnlocked=!1,this.checkEasterEggStatus()}checkEasterEggStatus(){"true"===sessionStorage.getItem("easterEggUnlocked")&&(this.easterEggUnlocked=!0)}render(){this.container.innerHTML="";(this.easterEggUnlocked?e():t()).forEach(t=>{const e=this.createMoodButton(t);this.container.appendChild(e)})}createMoodButton(t){const e=document.createElement("button");e.className="mood-button",e.dataset.moodId=t.id,e.setAttribute("aria-label",`Select ${t.label} mood`),e.setAttribute("role","button"),this.activeMoodId===t.id?(e.classList.add("mood-button--active"),e.setAttribute("aria-pressed","true")):e.setAttribute("aria-pressed","false");const o=document.createElement("span");o.className="mood-button__icon",o.textContent=t.icon,o.setAttribute("aria-hidden","true");const s=document.createElement("span");return s.className="mood-button__label",s.textContent=t.label,e.appendChild(o),e.appendChild(s),e.addEventListener("click",()=>this.handleMoodClick(t.id)),e}handleMoodClick(t){this.setActiveMood(t),this.onMoodChange&&this.onMoodChange(t)}setActiveMood(t){this.activeMoodId=t;this.container.querySelectorAll(".mood-button").forEach(e=>{e.dataset.moodId===t?(e.classList.add("mood-button--active"),e.setAttribute("aria-pressed","true")):(e.classList.remove("mood-button--active"),e.setAttribute("aria-pressed","false"))})}unlockEasterEgg(){this.easterEggUnlocked||(this.easterEggUnlocked=!0,sessionStorage.setItem("easterEggUnlocked","true"),this.render())}getActiveMood(){return this.activeMoodId}}export default MoodSelector;